{"version":3,"sources":["components/Row.js","components/Results.js","components/SearchForm.js","App.js","utilities.js","serviceWorker.js","index.js"],"names":["Row","data","Name","Time","Category","Year","Results","map","item","key","SearchForm","years","setYear","filterName","useState","name","setName","handleClick","e","year","currentTarget","dataset","id","parseInt","listStyle","float","textDecoration","padding","onClick","data-id","style","className","placeholder","onChange","target","value","App","setData","filteredData","setFilteredData","setYears","sortByTime","a","b","secondsA","getSeconds","secondsB","time","timeArray","split","length","seconds","forEach","i","Math","pow","useEffect","endpoint","async","fetch","method","headers","then","response","ok","Error","statusText","json","getDataFromServer","sort","objectArray","element","uniqueList","hasOwnProperty","includes","push","pluck","maxWidth","filter","toLowerCase","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a379c6c4.chunk.js","sourcesContent":["import React from 'react'\n\nfunction Row({ data }) {\n  return (\n    <tr>\n      <td>{data.Name}</td>\n      <td>{data.Time}</td>\n      <td>{data.Category}</td>\n      <td>{data.Year}</td>\n    </tr>\n  )\n}\n\nexport default Row\n","import React from 'react'\nimport Row from './Row'\n\nfunction Results({ data }) {\n  return (\n    <div>\n      <table>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Time</th>\n            <th>Category</th>\n            <th>Year</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data.map(item =>\n            <Row key={item.Name + item.Time} data={item} />\n          )}\n        </tbody>\n      </table>\n\n\n    </div>\n  )\n}\n\nexport default Results\n\n","import React, { useState } from 'react'\nimport '../styles/SearchForm.css'\n\nfunction SearchForm({ years, setYear, filterName }) {\n\n  const [name, setName] = useState('');\n\n  function handleChange(e) {\n    let name = e.target.value\n    setName(name)\n    filterName(name)\n  }\n\n  function handleClick(e) {\n    let year = e.currentTarget.dataset.id\n    setYear(parseInt(year))\n  }\n\n  const listStyle = { float: 'left', textDecoration: 'underline', listStyle: 'none', padding: '0 10px' }\n\n  return (\n    <div>\n      <ul>\n        {years.map(item => <li onClick={handleClick} key={item} data-id={item} style={listStyle}>{item}</li>)}\n      </ul>\n      <br />\n      <input className=\"clearfix\" placeholder=\"search...\" onChange={handleChange} value={name} />\n    </div>\n  )\n}\n\nexport default SearchForm\n","import React, { useState, useEffect } from 'react';\nimport { getDataFromServer } from './utilities'\nimport './styles/skeleton.css';\nimport Results from './components/Results'\nimport SearchForm from './components/SearchForm'\nimport { pluck } from './utilities'\n\nfunction App() {\n\n  const [data, setData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [years, setYears] = useState([]);\n\n  function sortByTime(a, b) {\n\n    let secondsA = getSeconds(a.Time)\n    let secondsB = getSeconds(b.Time)\n    if (secondsA > secondsB) {\n      return 1;\n    }\n    if (secondsB > secondsA) {\n      return -1;\n    }\n    return 0;\n  }\n\n  function sortByName(a, b) {\n    return (a.Name > b.Name) ? 1 : (a.Name < b.Name) ? -1 : 0\n  }\n\n  function getSeconds(time) {\n    const DIVIDER = ':'\n    let timeArray = time.split(DIVIDER)\n\n    let length = timeArray.length\n    let seconds = 0\n    timeArray.forEach((item, i) => {\n      seconds += parseInt(item) * (Math.pow(60, (length - i - 1)))\n    })\n    return seconds;\n  }\n\n  useEffect(() => {\n    getDataFromServer('race2rocks.json')\n      .then(data => {\n        setData(data)\n        setFilteredData(data.sort(sortByTime))\n        setYears(pluck(data, 'Year'))\n      })\n  }, [])\n\n  function filterName(name) {\n    let filteredData = data.filter(item =>\n      item.Name.toLowerCase().includes(name.toLowerCase())\n    )\n    setFilteredData(filteredData)\n  }\n\n  function setYear(year) {\n    let filteredData = data.filter(item =>\n      item.Year === year\n    )\n    setFilteredData(filteredData)\n  }\n\n  return (\n    <div className=\"App container\" style={{ maxWidth: '400px' }}>\n      <h1>Race to the Rocks</h1>\n      <SearchForm years={years} setYear={setYear} filterName={filterName} />\n      <Results data={filteredData} />\n    </div>\n  );\n}\n\nexport default App;\n","export const pluck = function (objectArray, element) {\n    let uniqueList = []\n    objectArray.forEach(item => {\n        if (item.hasOwnProperty(element)) {\n            if (!uniqueList.includes(item[element])) uniqueList.push(item[element])\n        }\n    })\n    return uniqueList.sort()\n}\n      \nexport const getDataFromServer = async function (endpoint) {\n    let data = fetch(endpoint, {\n        method: 'GET',\n        headers: {\n        'Accept':  'application/json',\n        'Content-Type': 'application/json'\n        }\n    })\n    .then((response) => {\n        if (!response.ok) throw Error(response.statusText);\n        return response;\n    })\n    .then(response => response.json())\n    \n    return await data\n}\n\nexport function getSummaryFromObject(objectData, objectKey, limit = 10) {\n\n    let summary = new Map()\n    if (!objectData) return [];\n    if (objectData.length < 1) return [];\n    \n    objectData.forEach(item => {\n        let key = item[objectKey];\n        if (summary.has(key)) {\n           let count = summary.get(key)\n           summary.set(key,count+1)\n        } else {\n            summary.set(key,1)\n        }\n    })\n\n    // convert map to array\n    let summaryArray = []\n    summary.forEach((value, key) => {\n      let percent = ((value/objectData.length)*100).toFixed(1)\n      let object = {key, value, percent}\n      summaryArray.push(object)\n    })\n\n    summaryArray.sort((a,b) => {\n      return b.value - a.value\n    })\n   \n    return summaryArray.slice(0,limit);\n}\n\n\nexport function getSummaryFromObject2D(objectData, objectKeys, limit = 10) {\n\n    let summary = []\n    if (!objectData) return [];\n    if (objectData.length < 1) return [];\n\n    objectData.forEach(item => {\n    //    let arrayKey = [ item[objectKeys[0]] , item[objectKeys[1]] ]\n       let arrayKey = item[objectKeys[0]] + '~' +  item[objectKeys[1]]\n       if (summary.hasOwnProperty(arrayKey)) {\n          summary[arrayKey] += 1\n       } else {\n          summary[arrayKey] = 1\n       }\n\n    })\n\n    // convert map to array\n    let summaryArray = []\n    for(let key in summary) {\n        let value = summary[key]\n        let percent = ((value/objectData.length)*100).toFixed(1)\n        let keys = key.split('~')\n        let object = {keyA: keys[0], keyB: keys[1], value, percent}\n        summaryArray.push(object)\n    }\n\n    summaryArray.sort((a,b) => {\n      return b.value - a.value\n    })\n   \n    return summaryArray.slice(0,limit);\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}